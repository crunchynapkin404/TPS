{% comment %}
Page Header Component - Consistent page titles and actions

Usage:
  {% include 'layouts/page_header.html' with title="Page Title" %}
  {% include 'layouts/page_header.html' with title="Page Title" description="Optional description" variant="compact" %}

Parameters:
  - title: Page title (required)
  - description: Optional page description
  - variant: "standard" (default), "compact", "with-tabs"
  - breadcrumbs: List of breadcrumb items
  - show_actions: Boolean to show action area
  - extra_classes: Additional CSS classes
{% endcomment %}

{% load static %}

<header class="page-header {% if variant == 'compact' %}page-header-compact{% elif variant == 'with-tabs' %}page-header-with-tabs{% else %}page-header-standard{% endif %} {{ extra_classes|default:'' }}">
    <div class="page-header-content">
        <!-- Breadcrumbs (if provided) -->
        {% if breadcrumbs %}
        <nav class="page-breadcrumbs" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                {% for crumb in breadcrumbs %}
                <li class="breadcrumb-item">
                    {% if crumb.url and not forloop.last %}
                        <a href="{{ crumb.url }}" class="breadcrumb-link">{{ crumb.title }}</a>
                        <svg class="breadcrumb-separator" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                        </svg>
                    {% else %}
                        <span class="breadcrumb-current" aria-current="page">{{ crumb.title }}</span>
                    {% endif %}
                </li>
                {% endfor %}
            </ol>
        </nav>
        {% endif %}

        <!-- Main header content -->
        <div class="page-header-main">
            <div class="page-header-text">
                <h1 class="page-title">{{ title }}</h1>
                {% if description %}
                <p class="page-description">{{ description }}</p>
                {% endif %}
            </div>

            <!-- Action area -->
            {% if show_actions %}
            <div class="page-header-actions">
                {% block page_actions %}
                    <!-- Actions will be provided by the including template -->
                {% endblock %}
            </div>
            {% endif %}
        </div>

        <!-- Tabs (if variant is with-tabs) -->
        {% if variant == 'with-tabs' %}
        <div class="page-header-tabs">
            {% block page_tabs %}
                <!-- Tabs will be provided by the including template -->
            {% endblock %}
        </div>
        {% endif %}
    </div>
</header>

<style>
/* Page Header Base Styles */
.page-header {
    background-color: white;
    border-bottom: 1px solid rgb(229 231 235); /* gray-200 */
    margin-bottom: 1.5rem;
}

.page-header.dark {
    background-color: rgb(31 41 55); /* gray-800 */
    border-bottom-color: rgb(75 85 99); /* gray-600 */
}

.page-header-content {
    padding: 1.5rem;
}

/* Standard header */
.page-header-standard .page-header-content {
    padding: 2rem 1.5rem;
}

/* Compact header */
.page-header-compact .page-header-content {
    padding: 1rem 1.5rem;
}

/* Header main content */
.page-header-main {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 1rem;
}

.page-header-text {
    flex-grow: 1;
    min-width: 0;
}

.page-title {
    font-size: 1.875rem; /* 30px */
    font-weight: 700;
    line-height: 1.2;
    color: rgb(17 24 39); /* gray-900 */
    margin: 0 0 0.5rem 0;
}

.page-header.dark .page-title {
    color: white;
}

.page-description {
    font-size: 1rem;
    color: rgb(107 114 128); /* gray-500 */
    margin: 0;
    line-height: 1.5;
}

.page-header.dark .page-description {
    color: rgb(156 163 175); /* gray-400 */
}

/* Compact variant adjustments */
.page-header-compact .page-title {
    font-size: 1.5rem; /* 24px */
    margin-bottom: 0.25rem;
}

.page-header-compact .page-description {
    font-size: 0.875rem; /* 14px */
}

/* Actions area */
.page-header-actions {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-shrink: 0;
}

/* Breadcrumbs */
.page-breadcrumbs {
    margin-bottom: 1rem;
}

.breadcrumb-list {
    display: flex;
    align-items: center;
    list-style: none;
    margin: 0;
    padding: 0;
}

.breadcrumb-item {
    display: flex;
    align-items: center;
}

.breadcrumb-link {
    color: rgb(59 130 246); /* blue-500 */
    text-decoration: none;
    font-size: 0.875rem;
    font-weight: 500;
    transition: color 0.15s ease;
}

.breadcrumb-link:hover {
    color: rgb(37 99 235); /* blue-600 */
}

.breadcrumb-current {
    color: rgb(107 114 128); /* gray-500 */
    font-size: 0.875rem;
    font-weight: 500;
}

.breadcrumb-separator {
    width: 1rem;
    height: 1rem;
    color: rgb(156 163 175); /* gray-400 */
    margin: 0 0.5rem;
}

/* Tabs */
.page-header-tabs {
    margin-top: 1.5rem;
    border-top: 1px solid rgb(229 231 235); /* gray-200 */
    padding-top: 1rem;
}

.page-header.dark .page-header-tabs {
    border-top-color: rgb(75 85 99); /* gray-600 */
}

/* Responsive adjustments */
@media (max-width: 48rem) { /* < 768px */
    .page-header-main {
        flex-direction: column;
        align-items: stretch;
    }
    
    .page-title {
        font-size: 1.5rem; /* 24px */
    }
    
    .page-header-actions {
        margin-top: 1rem;
        justify-content: flex-start;
    }
}

@media (min-width: 64rem) { /* 1024px+ */
    .page-header-content {
        padding: 1.5rem 2rem;
    }
    
    .page-header-standard .page-header-content {
        padding: 2.5rem 2rem;
    }
}
</style>